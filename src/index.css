@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  body {
    @apply bg-parchment font-crimson text-stone-800;
  }
}

/* Range slider styling */
input[type="range"]::-webkit-slider-thumb {
  @apply appearance-none w-5 h-5 bg-stone-600 rounded-full cursor-pointer;
  -webkit-appearance: none;
}

input[type="range"]::-moz-range-thumb {
  @apply w-5 h-5 bg-stone-600 rounded-full cursor-pointer border-0;
}

/* Subtle parchment texture via CSS */
.bg-gradient-to-b.from-parchment.to-parchment-dark {
  background-image:
    url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.03'/%3E%3C/svg%3E"),
    linear-gradient(to bottom, #FAF3E0, #F5E6C8);
}

/* Number input: hide spinner arrows */
input[type="number"]::-webkit-inner-spin-button,
input[type="number"]::-webkit-outer-spin-button {
  -webkit-appearance: none;
  margin: 0;
}
input[type="number"] {
  -moz-appearance: textfield;
}

/* Step reveal animation with opacity starting at 0 */
.animate-stepReveal {
  opacity: 0;
}

/* Volume control page utilities */
.vol-shake {
  animation: shake 0.5s ease-in-out;
}
.vol-drop-active {
  border-color: #34d399 !important;
  box-shadow: 0 0 12px rgba(52, 211, 153, 0.3);
}
.vol-drop-reject {
  border-color: #f87171 !important;
  box-shadow: 0 0 12px rgba(248, 113, 113, 0.3);
}
.vol-dragging {
  opacity: 0.5;
}
.vol-piece-selected {
  background-color: rgba(52, 211, 153, 0.15);
  box-shadow: 0 0 0 2px #34d399, 0 0 16px rgba(52, 211, 153, 0.4);
  border-radius: 0.5rem;
  transform: scale(1.08);
}
.vol-zone-empty {
  animation: zonePulse 2s ease-in-out infinite;
}
.vol-zone-target {
  animation: zoneTargetPulse 1.2s ease-in-out infinite;
  border-color: rgba(52, 211, 153, 0.5) !important;
}
.vol-confetti {
  position: absolute;
  bottom: 50%;
  pointer-events: none;
  animation: confetti 1s ease-out forwards;
}

/* Print styles */
@media print {
  /* Hide navigation, footer, buttons */
  button, footer, [data-action], input, select, textarea,
  #number-input-container, .flex.justify-center.gap-3.mb-6 {
    display: none !important;
  }

  /* Show showcase cards and tabs header */
  #showcase-view, .showcase-card, #tabs-container {
    display: block !important;
  }
  #tabs-container button { display: none !important; }
  #tabs-container { margin-bottom: 1rem; }

  /* Avoid page breaks inside cards */
  .print-avoid-break {
    break-inside: avoid;
    page-break-inside: avoid;
  }

  /* Clean backgrounds for printing */
  body, .bg-gradient-to-b, .bg-parchment, .bg-parchment-dark {
    background: white !important;
    background-image: none !important;
  }
  .showcase-card {
    border: 1px solid #ccc !important;
    margin-bottom: 0.75rem;
    padding: 0.75rem;
  }

  /* Show verify badges in print */
  .showcase-card span[class*="rounded-full"] {
    display: inline-flex !important;
  }
}
